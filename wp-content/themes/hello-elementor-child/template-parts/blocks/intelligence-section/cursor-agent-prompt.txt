Open the file at: /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/output-brillmark-website-redesign/html/intelligence-section.html
Goal: Convert this Figma-exported HTML into a WordPress ACF block.
- Wrap all content inside each <section> in a <div class="container"> without altering the existing layout or classes.
    Example:
    <section class="hero-section">
        <div class="container">
            ...original section content...
        </div>
    </section>
Inside that folder, generate these files:
- block-config.php → ACF block registration using acf_register_block_type (NOT register_block_type)
- block.html → Cleaned HTML migrated from Figma export
    html must preserve the exact structure of the original Figma HTML (no elements dropped or moved)
    html must use section-specific classes (unique per block)
- block.php → Renders markup with ACF placeholders (only <section>, no <html>, <head>, <body>)
    add <!-- ACF-ANNOTATED: true --> near the top
    wrap all field access in isset() / !empty() to prevent PHP notices
    use safe escaping (esc_html, esc_url, wp_kses_post)
- block.css → Cleaned styles migrated from Figma export
    - CSS must be semantically correct and responsive
    - CSS must only contain selectors for elements present in block.html
    - All CSS must be scoped to the block root section (.intelligence-section-section)
        * Example: .intelligence-section-section h2 { ... }
        * Apply to all nested selectors, pseudo-classes, and media queries
        * Never use global selectors without the block root prefix
    css must contain parent selectors with the sub selectors
    css must preserve Figma visual parity exactly (card spacing, badge placement, button styles, font sizes).
    - Badges must match Figma (inline, same padding, same border).
    - Buttons must follow Figma style per card (outline for Professional/Enterprise, solid for Business).
    - Cards must maintain equal width and consistent vertical spacing.
    - Headings, price, features list, and spacing must match Figma proportions.
    - Remove unnecessary Figma exports (fit-content, overflow:auto) unless required for parity.
 - Use responsive best practices:
        * Base layout: max-width 1220px centered
        * Maintain Figma 1440px design proportions
        * Use clamp/rem/% for typography and spacing where possible
        * Add breakpoints:
            ≤1024px: collapse multi-column → 2 columns
            ≤768px: stack into single column, buttons full-width
            ≤480px: tighter padding, smaller typography
        * Ensure images/icons scale (max-width: 100%, height: auto)
- block.js → Any interactive behavior (no inline <script>)
- block-acf.json → JSON definition of ACF fields for this block
    - Must include ALL placeholders used in block.php
    - Must map fields to the actual content extracted from the original HTML
    - Use unique field keys: field_intelligence-section_fieldname
    - Include proper block location: "acf/intelligence-section"
    - For every text/image found in block.html:
        * If element repeats → use a repeater field
        * If single text → use text/textarea (depending on length)
        * If rich markup → use wysiwyg
        * If <img> → use image field with "return_format" => "url"
        * If <a> → use link field
- Conditional field placement rules:
    * Fields such as "featured", "badge", "highlight", or similar must only be added to the specific repeater or group in which they appear in block.html.
    * Do not create these fields globally for the entire block if they only exist inside a nested element.
    * Example: If a "Featured" toggle is only present in one card within a cards repeater, define it as a sub_field of the repeater, not as a top-level block field.
    * Ensure block.php only outputs these fields inside the correct repeater loop, never globally.
    - Prefill default values in block-acf.json with values parsed from the original HTML
    - For repeater fields: default_value arrays must always contain 2–3 populated child rows,
      copied exactly from the dummy items in block.html (not empty).
    - Ensure repeater fields have at least 2–3 default child rows populated with HTML values (headings, paragraphs, image URLs, etc.)
Optional: fields.php → Auto-register ACF fields if needed
General Rules:
- Derive block slug from filename (intelligence-section)
- Replace static text/images in block.php with proper ACF placeholders, e.g.:
    Heading: <?php echo esc_html(get_field('heading')); ?>
    Paragraph: <?php echo wp_kses_post(get_field('description')); ?>
    Repeater fields (FAQ, items): foreach loop with get_field()
- Keep each block isolated (never overwrite another block's files)
- Inline styles/scripts must be extracted into css/js
- Ensure semantic HTML and accessibility are preserved (alt attributes, aria labels, heading order)
- Ensure no PHP notices can occur (all get_field wrapped in isset/!empty)
Extra CRITICAL Rules for HTML validation:
- Step 1: Parse the original Figma HTML
- Step 2: Ensure block.html matches the original structure exactly
    * Same number of elements, same hierarchy, same nesting
    * No elements may be dropped
    * All attributes (alt, aria, data-*) must be preserved unless unsafe
- Step 3: If any mismatch is found (missing/extra element), regenerate block.html until it matches
Repeater Detection Rules:
- Any group of repeating sibling elements (cards, list items, FAQ rows, feature bullets, etc.) must be treated as a repeater.
- Even if not explicitly labeled, always convert into a repeater with sample child items.
Repeater Handling Rules:
- For every repeater field (e.g. pricing_plans, features, additional_features, footer_texts, enterprise_features, or any new repeater):
  - block.html MUST contain at least 2–3 fully fleshed-out child elements for preview.
  - block-acf.json MUST include matching default_value arrays for every repeater, with the same number of child elements and identical content as block.html.
  - block.php MUST render repeater items dynamically using have_rows(), the_row(), and get_sub_field() (no hardcoded content).
- Dummy values:
  - Use realistic defaults (e.g. "Free Plan", "$19/month", "500 credits", "Feature A", "Feature B").
  - Use placeholder images such as ../images/tick-icon.png for icons.
- Nested repeaters:
  - If a repeater contains another repeater (e.g. features inside pricing_plans), then each nested repeater MUST also have 2–3 populated child rows in block.html and block-acf.json.
- Preview parity:
  - All default values in block-acf.json MUST be visible in block.html preview (no mismatches).
  - No repeater is ever allowed to be left empty.
Validation for Repeaters:
- Check block.html:
  - Every repeater container must include at least 2 sample items.
  - Nested repeaters must also show 2–3 items.
- Check block-acf.json:
  - For every repeater in block.html, ensure default_value contains the same number of rows with matching content.
  - No default_value array may be empty.
- Check block.php:
  - Ensure all repeater output is generated with proper have_rows() loops.
- Cross-check:
  - block.html preview content = block-acf.json default values.
  - If mismatch or empty repeater is found, regenerate until aligned.
CRITICAL: block-config.php PATH REQUIREMENTS:
  - Files are physically stored in: template-parts/{project-folder}/blocks/intelligence-section/
  - BUT block-config.php paths MUST reference: /template-parts/blocks/intelligence-section/ (WITHOUT project folder)
  - This is intentional - WordPress will resolve the paths correctly
CRITICAL: block-config.php MUST use this EXACT format:
<?php
/**
 * intelligence-section Block Configuration
 * 
 * This file registers the intelligence-section block with ACF
 */
// Check if ACF function exists
if (function_exists('acf_register_block_type')) {
    $block_config = array(
        'name'              => 'intelligence-section',
        'title'             => __('intelligence-section', 'textdomain'),
        'description'       => __('A custom intelligence-section block with customizable fields.', 'textdomain'),
        'render_template'   => get_template_directory() . '/template-parts/blocks/intelligence-section/block.php',
        'category'          => 'custom-blocks',
        'icon'              => 'admin-site',
        'keywords'          => array('intelligence-section', 'custom'),
        'mode'              => 'preview',
        'supports'          => array(
            'align' => array('left', 'center', 'right', 'wide', 'full'),
            'mode' => false,
            'jsx' => true
        ),
    );
    // Only enqueue CSS if file exists
    // NOTE: Path does NOT include project folder, even though file is stored in template-parts/{project}/blocks/
    if (file_exists(get_template_directory() . '/template-parts/blocks/intelligence-section/block.css')) {
        $block_config['enqueue_style'] = get_template_directory_uri() . '/template-parts/blocks/intelligence-section/block.css';
    }
    // Only enqueue JS if file exists
    // NOTE: Path does NOT include project folder, even though file is stored in template-parts/{project}/blocks/
    if (file_exists(get_template_directory() . '/template-parts/blocks/intelligence-section/block.js')) {
        $block_config['enqueue_script'] = get_template_directory_uri() . '/template-parts/blocks/intelligence-section/block.js';
    }
    acf_register_block_type($block_config);
}
Validation & Self-Check before final output:
1. Compare block.html against original Figma HTML → structures must match (no missing elements, no nesting errors)
2. Verify repeaters: block.php must loop correctly AND block.html must show multiple dummy children (not a single empty)
3. Verify block.css only contains selectors for elements in block.html
4. Verify block.php includes all placeholders for text/images (no hardcoded text, except dummy in block.html)
5. Verify block-acf.json defines ALL fields used in block.php (no undefined field references)
6. Verify block-acf.json default values are extracted from block.html and closely resemble the design
7. Ensure repeater fields are seeded with multiple sample rows parsed from the HTML (not blank)
8. Ensure text fields, headings, and paragraphs in block-acf.json match their content from block.html as defaults
9. Ensure image fields use the <img> src from block.html as default
10. Ensure accessibility attributes (alt, aria, data-*) are preserved in defaults where applicable
Final Output: Generate the complete folder structure with all files, validated and corrected.
CRITICAL FILE CREATION INSTRUCTIONS:
You MUST create the following files in this EXACT directory:
Directory: /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section
Relative path: template-parts/brillmark-website-redesign/blocks/intelligence-section
Required files to create:
1. /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section/block.html
2. /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section/block.php
3. /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section/block.css
4. /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section/block-acf.json
5. /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section/block-config.php
ACTION REQUIRED:
- You MUST create all 5 files listed above in the directory: /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section
- Use file creation tools (write_file, create_file, or equivalent) to create these files
- The directory already exists, so you can write files directly
- Do not skip any files - all 5 files are required for the block to work
- Each file must contain the complete content as specified in the rules above
- After creating files, verify they exist in: /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section
This is a NEW block - create all files in: /Users/kshitijkaushik/Desktop/Git/figma-to-wordpress/template-parts/brillmark-website-redesign/blocks/intelligence-section